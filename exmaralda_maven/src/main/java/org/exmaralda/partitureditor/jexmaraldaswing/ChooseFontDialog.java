/*
 * ChooseFontDialog.java
 *
 * Created on 6. November 2002, 14:54
 */

package org.exmaralda.partitureditor.jexmaraldaswing;

/**
 *
 * @author  Thomas
 */
public class ChooseFontDialog extends JEscapeDialog {

    private String[] FONTS;
    
    /** Creates new form ChooseFontDialog */
    public ChooseFontDialog(java.awt.Frame parent, boolean modal, String fontname) {
        super(parent, modal);
        java.awt.GraphicsEnvironment ge = java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment();
        FONTS = ge.getAvailableFontFamilyNames();
        initComponents();
        this.getRootPane().setDefaultButton(okButton);
        fontList.setSelectedValue(fontname, true);
    }

    public String getFontname(){
        return (String)(fontList.getSelectedValue());
    }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        okButton = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        fontList = fontList = new javax.swing.JList(FONTS);
        
        setTitle("Set the default font");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                closeDialog(evt);
            }
        });
        
        okButton.setText("OK");
        okButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                okButtonActionPerformed(evt);
            }
        });
        
        getContentPane().add(okButton, java.awt.BorderLayout.SOUTH);
        
        jLabel1.setText("Choose a font:");
        getContentPane().add(jLabel1, java.awt.BorderLayout.NORTH);
        
        jScrollPane1.setViewportView(fontList);
        
        getContentPane().add(jScrollPane1, java.awt.BorderLayout.CENTER);
        
        pack();
    }//GEN-END:initComponents

    private void okButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_okButtonActionPerformed
        // Add your handling code here:
        setVisible(false);
        dispose();        
    }//GEN-LAST:event_okButtonActionPerformed

    /** Closes the dialog */
    private void closeDialog(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_closeDialog
        setVisible(false);
        dispose();
    }//GEN-LAST:event_closeDialog

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        new ChooseFontDialog(new javax.swing.JFrame(), true, "Times New Roman").show();
    }


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton okButton;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JList fontList;
    // End of variables declaration//GEN-END:variables

    public void show(){
        java.awt.Dimension dialogSize = this.getPreferredSize();
        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        this.setLocation(screenSize.width/2 - dialogSize.width/2, screenSize.height/2 - dialogSize.height/2);
        super.show();
    }
}
