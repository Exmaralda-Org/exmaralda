/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * SegmentationOptionsPanel.java
 *
 * Created on 26.08.2010, 14:02:28
 */

package org.exmaralda.coma.helpers;

import javax.swing.JFileChooser;
import org.exmaralda.partitureditor.jexmaraldaswing.fileFilters.ParameterFileFilter;

/**
 *
 * @author thomas
 */
public class SegmentationOptionsPanel extends javax.swing.JPanel {

    /** Creates new form SegmentationOptionsPanel */
    public SegmentationOptionsPanel() {
        initComponents();
    }

    public void configureForDialog(){
        this.enableElements(true);
        this.segmentPanel.setVisible(false);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        segErrorOptionsGroup = new javax.swing.ButtonGroup();
        targetOptionsButtonGroup = new javax.swing.ButtonGroup();
        titlePanel = new javax.swing.JPanel();
        titleLabel = new javax.swing.JLabel();
        mainPanel = new javax.swing.JPanel();
        segmentPanel = new javax.swing.JPanel();
        segmentTranscriptionsCheckbox = new javax.swing.JCheckBox();
        algorithmPanel = new javax.swing.JPanel();
        segSelector = new javax.swing.JComboBox();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        customFSMTextField = new javax.swing.JTextField();
        customFSMBrowseButton = new javax.swing.JButton();
        errorsPanel = new javax.swing.JPanel();
        errorOptionsPanel = new javax.swing.JPanel();
        segErrorOption1 = new javax.swing.JRadioButton();
        segErrorOption2 = new javax.swing.JRadioButton();
        segErrorOption3 = new javax.swing.JRadioButton();
        errorListCheckBox = new javax.swing.JCheckBox();
        targetPanel = new javax.swing.JPanel();
        targetOptionsPanel = new javax.swing.JPanel();
        segTargetOption1 = new javax.swing.JRadioButton();
        newDirectoryPanel = new javax.swing.JPanel();
        segTargetOption2 = new javax.swing.JRadioButton();
        segTargetOption2TextField = new javax.swing.JTextField();
        suffixPanel = new javax.swing.JPanel();
        suffixLabel = new javax.swing.JLabel();
        segSuffixTextField = new javax.swing.JTextField();

        setLayout(new java.awt.BorderLayout());

        titlePanel.setBackground(new java.awt.Color(255, 255, 255));

        titleLabel.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        titleLabel.setText("Segmentation");
        titlePanel.add(titleLabel);

        add(titlePanel, java.awt.BorderLayout.NORTH);

        mainPanel.setLayout(new javax.swing.BoxLayout(mainPanel, javax.swing.BoxLayout.Y_AXIS));

        segmentPanel.setBorder(javax.swing.BorderFactory.createEmptyBorder(4, 4, 4, 4));
        segmentPanel.setAlignmentX(0.0F);
        segmentPanel.setLayout(new javax.swing.BoxLayout(segmentPanel, javax.swing.BoxLayout.LINE_AXIS));

        segmentTranscriptionsCheckbox.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        segmentTranscriptionsCheckbox.setSelected(true);
        segmentTranscriptionsCheckbox.setText("Segment transcriptions");
        segmentTranscriptionsCheckbox.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                segmentTranscriptionsCheckboxActionPerformed(evt);
            }
        });
        segmentPanel.add(segmentTranscriptionsCheckbox);

        mainPanel.add(segmentPanel);

        algorithmPanel.setBorder(javax.swing.BorderFactory.createTitledBorder("Segmentation algorithm"));
        algorithmPanel.setAlignmentX(0.0F);
        algorithmPanel.setLayout(new java.awt.BorderLayout());

        segSelector.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "default", "HIAT", "DIDA", "GAT", "CHAT", "IPA", "GENERIC", "cGAT_MINIMAL", "CHAT_MINIMAL", "INEL_EVENT_BASED" }));
        segSelector.setMaximumSize(new java.awt.Dimension(300, 20));
        segSelector.setPreferredSize(new java.awt.Dimension(200, 20));
        algorithmPanel.add(segSelector, java.awt.BorderLayout.NORTH);

        jPanel1.setLayout(new javax.swing.BoxLayout(jPanel1, javax.swing.BoxLayout.LINE_AXIS));

        jLabel1.setText("Custom FSM: ");
        jPanel1.add(jLabel1);

        customFSMTextField.setMaximumSize(new java.awt.Dimension(300, 20));
        jPanel1.add(customFSMTextField);

        customFSMBrowseButton.setText("Browse...");
        customFSMBrowseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                customFSMBrowseButtonActionPerformed(evt);
            }
        });
        jPanel1.add(customFSMBrowseButton);

        algorithmPanel.add(jPanel1, java.awt.BorderLayout.CENTER);

        mainPanel.add(algorithmPanel);

        errorsPanel.setBorder(javax.swing.BorderFactory.createTitledBorder("On segmentation errors..."));
        errorsPanel.setAlignmentX(0.0F);
        errorsPanel.setLayout(new java.awt.BorderLayout());

        errorOptionsPanel.setLayout(new javax.swing.BoxLayout(errorOptionsPanel, javax.swing.BoxLayout.Y_AXIS));

        segErrorOptionsGroup.add(segErrorOption1);
        segErrorOption1.setText("... cancel");
        errorOptionsPanel.add(segErrorOption1);

        segErrorOptionsGroup.add(segErrorOption2);
        segErrorOption2.setSelected(true);
        segErrorOption2.setText("... skip");
        errorOptionsPanel.add(segErrorOption2);

        segErrorOptionsGroup.add(segErrorOption3);
        segErrorOption3.setText("... use default segmentation");
        errorOptionsPanel.add(segErrorOption3);

        errorListCheckBox.setSelected(true);
        errorListCheckBox.setText("... write error list");
        errorOptionsPanel.add(errorListCheckBox);

        errorsPanel.add(errorOptionsPanel, java.awt.BorderLayout.CENTER);

        mainPanel.add(errorsPanel);

        targetPanel.setBorder(javax.swing.BorderFactory.createTitledBorder("Target"));
        targetPanel.setAlignmentX(0.0F);
        targetPanel.setLayout(new java.awt.BorderLayout());

        targetOptionsPanel.setLayout(new javax.swing.BoxLayout(targetOptionsPanel, javax.swing.BoxLayout.Y_AXIS));

        targetOptionsButtonGroup.add(segTargetOption1);
        segTargetOption1.setSelected(true);
        segTargetOption1.setText("same directory");
        segTargetOption1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                segTargetOption1ActionPerformed(evt);
            }
        });
        targetOptionsPanel.add(segTargetOption1);

        newDirectoryPanel.setAlignmentX(0.0F);
        newDirectoryPanel.setLayout(new javax.swing.BoxLayout(newDirectoryPanel, javax.swing.BoxLayout.LINE_AXIS));

        targetOptionsButtonGroup.add(segTargetOption2);
        segTargetOption2.setText("new directory  ");
        segTargetOption2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                segTargetOption2ActionPerformed(evt);
            }
        });
        newDirectoryPanel.add(segTargetOption2);

        segTargetOption2TextField.setText("segmentedTranscriptions");
        segTargetOption2TextField.setEnabled(false);
        segTargetOption2TextField.setMaximumSize(new java.awt.Dimension(300, 20));
        segTargetOption2TextField.setMinimumSize(new java.awt.Dimension(200, 20));
        segTargetOption2TextField.setPreferredSize(new java.awt.Dimension(200, 20));
        newDirectoryPanel.add(segTargetOption2TextField);

        targetOptionsPanel.add(newDirectoryPanel);

        suffixPanel.setBorder(javax.swing.BorderFactory.createEmptyBorder(4, 4, 4, 4));
        suffixPanel.setAlignmentX(0.0F);
        suffixPanel.setLayout(new javax.swing.BoxLayout(suffixPanel, javax.swing.BoxLayout.LINE_AXIS));

        suffixLabel.setText("Suffix: ");
        suffixLabel.setMaximumSize(new java.awt.Dimension(200, 14));
        suffixPanel.add(suffixLabel);

        segSuffixTextField.setText("_s");
        segSuffixTextField.setMaximumSize(new java.awt.Dimension(100, 20));
        segSuffixTextField.setMinimumSize(new java.awt.Dimension(100, 20));
        segSuffixTextField.setPreferredSize(new java.awt.Dimension(100, 20));
        suffixPanel.add(segSuffixTextField);

        targetOptionsPanel.add(suffixPanel);

        targetPanel.add(targetOptionsPanel, java.awt.BorderLayout.CENTER);

        mainPanel.add(targetPanel);

        add(mainPanel, java.awt.BorderLayout.CENTER);
    }// </editor-fold>//GEN-END:initComponents

    private void segmentTranscriptionsCheckboxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_segmentTranscriptionsCheckboxActionPerformed
        boolean enable = segmentTranscriptionsCheckbox.isSelected();
        enableElements(enable);
    }//GEN-LAST:event_segmentTranscriptionsCheckboxActionPerformed

    private void segTargetOption2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_segTargetOption2ActionPerformed
        segTargetOption2TextField.setEnabled(segTargetOption2.isSelected());
    }//GEN-LAST:event_segTargetOption2ActionPerformed

    private void segTargetOption1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_segTargetOption1ActionPerformed
        segTargetOption2TextField.setEnabled(segTargetOption2.isSelected());
    }//GEN-LAST:event_segTargetOption1ActionPerformed

    private void customFSMBrowseButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_customFSMBrowseButtonActionPerformed
        JFileChooser jfc = new JFileChooser();
        jfc.setFileFilter(new ParameterFileFilter("xml", "Finite State Machines (*.xml)"));
        int ret = jfc.showOpenDialog(this);
        if (ret==JFileChooser.APPROVE_OPTION){
            customFSMTextField.setText(jfc.getSelectedFile().getAbsolutePath());
        }
    }//GEN-LAST:event_customFSMBrowseButtonActionPerformed

    private void enableElements(boolean enable){
        segSelector.setEnabled(enable);
        segErrorOption1.setEnabled(enable);
        segErrorOption2.setEnabled(enable);
        segErrorOption3.setEnabled(enable);
        errorListCheckBox.setEnabled(enable);
        segTargetOption1.setEnabled(enable);
        segTargetOption2.setEnabled(enable);
        segSuffixTextField.setEnabled(enable);
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel algorithmPanel;
    private javax.swing.JButton customFSMBrowseButton;
    public javax.swing.JTextField customFSMTextField;
    public javax.swing.JCheckBox errorListCheckBox;
    private javax.swing.JPanel errorOptionsPanel;
    private javax.swing.JPanel errorsPanel;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel mainPanel;
    private javax.swing.JPanel newDirectoryPanel;
    public javax.swing.JRadioButton segErrorOption1;
    public javax.swing.JRadioButton segErrorOption2;
    public javax.swing.JRadioButton segErrorOption3;
    private javax.swing.ButtonGroup segErrorOptionsGroup;
    public javax.swing.JComboBox segSelector;
    public javax.swing.JTextField segSuffixTextField;
    private javax.swing.JRadioButton segTargetOption1;
    public javax.swing.JRadioButton segTargetOption2;
    public javax.swing.JTextField segTargetOption2TextField;
    private javax.swing.JPanel segmentPanel;
    private javax.swing.JCheckBox segmentTranscriptionsCheckbox;
    private javax.swing.JLabel suffixLabel;
    private javax.swing.JPanel suffixPanel;
    private javax.swing.ButtonGroup targetOptionsButtonGroup;
    private javax.swing.JPanel targetOptionsPanel;
    private javax.swing.JPanel targetPanel;
    private javax.swing.JLabel titleLabel;
    private javax.swing.JPanel titlePanel;
    // End of variables declaration//GEN-END:variables

}
